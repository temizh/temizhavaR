list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(average))
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(average))
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(average))
result <- daily_station_average(parameter_name, threshold = 90)
result_sorted <- result %>%
arrange(desc(average))
print(paste(parameter_name, ": için istasyon ortalamaları"))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(average))
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_below_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün altindaki istasyonların listesi " ))
print(result_sorted)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
calculate_parameter_mean(daily_detail_data , parameter_name, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
daily_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": Veri alınan istasyon sayısı" ))
daily_list_stations_with_parameter_count(parameter_name)
result <- daily_station_average(parameter_name, threshold = 90)
result_sorted <- result %>%
arrange(desc(average))
print(paste(parameter_name, ": için istasyon ortalamaları"))
print(result_sorted)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
daily_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
daily_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_below_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün altindaki istasyonların listesi " ))
print(result_sorted)
exceedance_days <- calculate_exceedance_days_daily(daily_detail_data, parameter, threshold = 50)
print(paste("50 esiginin uzerinde asilma", exceedance_days, "gun boyunca gerceklesti."))
exceedance_days <- calculate_exceedance_days_daily(daily_detail_data, parameter, threshold = 45)
print(paste("45 esiginin uzerinde asilma", exceedance_days, "gun boyunca gerceklesti."))
result_above <- calculate_above_exceedance_days_all_stations(parameter, threshold = 50)
print("Istasyonlar 50 esigini kac gun boyunca astilar:")
print(result_above$ExceedanceDays %>% arrange(desc(ExceedsThreshold)))
result_below <- calculate_below_exceedance_days_all_stations(parameter, threshold = 45)
print("Istasyonlar 45 esiginin kac gun boyunca altında kaldılar:")
print(result_below$ExceedanceDays %>% arrange(desc(ExceedsThreshold)))
calculate_overall_average_by_city(parameter)
station_name <- "Adana-Seyhan"
parameters <- c("SO2")
total_days <- 365
parameter = "SO2"
parameter_name <- "SO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Gunluk ortalaması 40 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Gunluk ortalaması 125 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 125)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Gunluk ortalaması 125 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 2)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Gunluk ortalaması 125 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
print(paste(parameter_name,": Saatlik ortalaması 200 esik degerini 18 kere asan istasyonlar" ))
hourly_calculate_above_exceedance_days_all_stations(parameter_name, threshold = 200, exceed_limit = 18)
station_name <- "Adana-Seyhan"
parameters <- c("NO2")
total_days <- 8761
parameter = "NO2"
parameter_name <- "NO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
calculate_parameter_mean(hourly_detail_data , parameter, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
hourly_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name,": Saatlik ortalaması 200 esik degerini 18 kere asan istasyonlar" ))
hourly_calculate_above_exceedance_days_all_stations(parameter_name, threshold = 200, exceed_limit = 18)
station_name <- "Erzincan"
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 400 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 400)
library(temizhavaR)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 400 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 400)
station_name <- "Adana-Seyhan"
parameters <- c("SO2")
total_days <- 8761
parameter = "SO2"
parameter_name <- "SO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 500 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 500)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 500 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 500)
station_name <- "Adana-Seyhan"
parameters <- c("N02")
total_days <- 365
parameter = "NO2"
parameter_name <- "NO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
View(daily_detail_data)
station_name <- "Erzincan"
parameters <- c("NO2")
total_days <- 8761
parameter = "NO2"
parameter_name <- "NO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
library(dplyr)
library(temizhavaR)
library(DBI)
library(dygraphs)
station_name <- "Adana-Seyhan"
parameters <- c("N02")
total_days <- 365
parameter = "NO2"
parameter_name <- "NO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
parameters <- c("NO2")
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
View(daily_detail_data)
result_above <- calculate_above_exceedance_days_all_stations(parameter, threshold = 25)
print("Istasyonlar 50 esigini kac gun boyunca astilar:")
print(result_above$ExceedanceDays %>% arrange(desc(ExceedsThreshold)))
result_above <- calculate_above_exceedance_days_all_stations(parameter, threshold = 25)
print("Istasyonlar 25 esigini kac gun boyunca astilar:")
print(result_above$ExceedanceDays %>% arrange(desc(ExceedsThreshold)))
calculate_overall_average_by_city(parameter)
print(paste(parameter,": Il yillik ortalamasi" ))
calculate_overall_average_by_city(parameter)
station_name <- "Adana-Seyhan"
parameters <- c("NO2")
total_days <- 365
parameter = "NO2"
parameter_name <- "NO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
calculate_parameter_mean(daily_detail_data , parameter_name, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
daily_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
daily_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
daily_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
result_above <- calculate_above_exceedance_days_all_stations(parameter, threshold = 25)
print("Istasyonlar 25 esigini kac gun boyunca astilar:")
print(result_above$ExceedanceDays %>% arrange(desc(ExceedsThreshold)))
print(paste(parameter,": Il yillik ortalamasi" ))
calculate_overall_average_by_city(parameter)
View(daily_detail_data)
station_name <- "Erzincan"
parameters <- c("NOX")
total_days <- 8761
parameter = "NOX"
parameter_name <- "NOX"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
calculate_parameter_mean(hourly_detail_data , parameter, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
hourly_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
station_name <- "Adana-Seyhan"
parameters <- c("NOX")
total_days <- 365
parameter = "NOX"
parameter_name <- "NOX"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
calculate_parameter_mean(daily_detail_data , parameter_name, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
daily_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
daily_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
daily_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 30 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
station_name <- "Adana-Seyhan"
parameters <- c("NO2")
total_days <- 365
parameter = "NO2"
parameter_name <- "NO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
result <- list_stations_above_data_threshold(parameter_name, threshold = 40)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 40 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
result <- list_stations_above_data_threshold(parameter_name, threshold = 10)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 10 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
station_name <- "Adana-Seyhan"
parameters <- c("SO2")
total_days <- 365
parameter = "SO2"
parameter_name <- "SO2"
daily_detail_data <- daily_detail_load_from_database(station_name)
result <- list_stations_above_data_threshold(parameter_name, threshold = 20)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 20 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
station_name <- "Adana-Seyhan"
parameters <- c("NOX")
total_days <- 365
parameter = "NOX"
parameter_name <- "NOX"
daily_detail_data <- daily_detail_load_from_database(station_name)
result <- list_stations_above_data_threshold(parameter_name, threshold = 30)
result_sorted <- result %>%
arrange(desc(yearly_average))
print(paste(parameter_name," : Yıllık ortalaması 30 µg/m3'ün üstündeki istasyonların listesi " ))
print(result_sorted)
View(daily_detail_data)
station_name <- "Erzincan"
parameters <- c("O3")
total_days <- 8761
parameter = "O3"
parameter_name <- "O3"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
calculate_parameter_mean(hourly_detail_data , parameter, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": Veri alınan istasyon sayısı" ))
hourly_list_stations_with_parameter_count(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
hourly_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
station_name <- "Adana-Seyhan"
parameters <- c("O3")
total_days <- 365
parameter = "O3"
parameter_name <- "O3"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
calculate_parameter_mean(daily_detail_data , parameter_name, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
daily_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": Veri alınan istasyon sayısı" ))
daily_list_stations_with_parameter_count(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
daily_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
daily_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
station_name <- "Erzincan"
parameters <- c("CO")
total_days <- 8761
parameter = "CO"
parameter_name <- "CO"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
calculate_parameter_mean(hourly_detail_data , parameter, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
hourly_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
hourly_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
station_name <- "Adana-Seyhan"
parameters <- c("CO")
total_days <- 365
parameter = "CO"
parameter_name <- "CO"
daily_detail_data <- daily_detail_load_from_database(station_name)
create_hourly_time_series_graph(daily_detail_data, station_name, parameters)
calculate_parameter_mean(daily_detail_data , parameter_name, threshold = 0.9, total_days, verbose = TRUE)
print(paste(parameter_name,": Veri alınan istasyon listesi" ))
daily_list_stations_with_parameter(parameter_name)
print(paste(parameter_name,": %90 veri alınan istasyon listesi" ))
daily_list_stations_with_parameter_threshold(parameter_name, threshold = 90)
print(paste(parameter_name," : %90 Veri alınan istasyon sayısı" ))
daily_count_stations_with_parameter_threshold(parameter_name, threshold = 90)
library(temizhavaR)
library(RSelenium)
library(netstat)
library(wdman)
#Yeni bir chromedriver versiyonu oluştuğunda C:\Users\Hp\AppData\Local\binman\binman_chromedriver\win32 buradan lisans belgesini sil
selenium()
selenium_object <- selenium(retcommand = T, check= F)
#google chrome
#binman::list_versions("chromedriver")
remote_driver <- rsDriver(browser = "chrome", chromever = "123.0.6312.86", verbose = F, port = free_port())
remDr <- remote_driver$client
options()
names(options())
options()$width
library(RSelenium)
library(netstat)
library(wdman)
#Yeni bir chromedriver versiyonu oluştuğunda C:\Users\Hp\AppData\Local\binman\binman_chromedriver\win32 buradan lisans belgesini sil
selenium()
selenium_object <- selenium(retcommand = T, check= F)
#google chrome
#binman::list_versions("chromedriver")
remote_driver <- rsDriver(browser = "chrome", chromever = "123.0.6312.86", verbose = F, port = free_port())
close server
#close server
remote_driver$server$stop()
library(RSelenium)
library(netstat)
library(wdman)
#Yeni bir chromedriver versiyonu oluştuğunda C:\Users\Hp\AppData\Local\binman\binman_chromedriver\win32 buradan lisans belgesini sil
selenium()
remDr <- remote_driver$client
remDr$open()
#close server
remote_driver$server$stop()
library(RSelenium)
library(netstat)
library(wdman)
#Yeni bir chromedriver versiyonu oluştuğunda C:\Users\Hp\AppData\Local\binman\binman_chromedriver\win32 buradan lisans belgesini sil
selenium()
selenium_object <- selenium(retcommand = T, check= F)
#google chrome
#binman::list_versions("chromedriver")
remote_driver <- rsDriver(browser = "chrome", chromever = "123.0.6312.86", verbose = F, port = free_port())
remDr <- remote_driver$client
remDr$open()
remDr$navigate("https://sim.csb.gov.tr/STN/STN_Report/StationDataDownloadNew")
dropdown12_element <- remDr$findElement(using = 'id', value = 'dropdown12-contentDataDowloadNew')
dropdown12_element$clickElement()
Sys.sleep(2)
multiselect12_element <- remDr$findElement(using = 'xpath', value = '//*[@id="dropdown12-contentDataDowloadNew"]/div[1]/div/div/div')
multiselect12_element$clickElement()
Sys.sleep(2)
dropdown12_list_items <- remDr$findElements(using = "css", value = ".k-reset li")
for (item in dropdown12_list_items) {
#
item_text <- item$getElementText()
#
#
if ("Akdeniz THM" %in% item_text) {
item$clickElement()
break
}
}
dropdown_element2 <- remDr$findElement(using = 'xpath', value = '//*[@id="dropdown2-contentDataDowloadNew"]')
dropdown_element2$clickElement()
Sys.sleep(2)
dropdown_element_list2 <- remDr$findElements(using = 'css', value = '.k-reset li')
for (item in dropdown_element_list2) {
#
item_text <- item$getElementText()
if ("Adana - Çatalan" %in% item_text) {
item$clickElement()
break
}
}
dropdown_element3 <- remDr$findElement(using = 'xpath', value = '//*[@id="dropdown3-contentDataDowloadNew"]/div/div/div/div/span[3]')
dropdown_element3$clickElement()
Sys.sleep(2)
hourly_element <- remDr$findElement(using = 'xpath', value = '//*[@id="dropdown4-contentDataDowloadNew"]/div/div/label[1]')
hourly_element$clickElement()
Sys.sleep(2)
calender_icon <- remDr$findElement(using = 'xpath', value = '//*[@id="dropdown5-contentDataDowloadNew"]/div/div/span/span/span/span[1]')
calender_icon$clickElement()
Sys.sleep(2)
calender_icon <- remDr$findElement(using = 'css', value = '.k-nav-fast')
calender_icon$clickElement()
Sys.sleep(2)
months_icon <- remDr$findElement(using = 'css', value = '.k-state-selected')
months_icon$clickElement()
Sys.sleep(2)
station_name <- "Adana-Seyhan"
parameters <- c("SO2")
total_days <- 8761
parameter = "SO2"
parameter_name <- "SO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 500 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 500)
library(dplyr)
library(temizhavaR)
library(DBI)
library(dygraphs)
station_name <- "Adana-Seyhan"
parameters <- c("SO2")
total_days <- 8761
parameter = "SO2"
parameter_name <- "SO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 500 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 500)
station_name <- "Erzincan"
parameters <- c("NO2")
total_days <- 8761
parameter = "NO2"
parameter_name <- "NO2"
hourly_detail_data <- hourly_detail_load_from_database(station_name)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 400 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 400)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 5)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 5)
View(hourly_stations)
View(data)
create_hourly_time_series_graph(hourly_detail_data, station_name, parameters)
consecutive_hourly_list_stations(parameter_name, threshold = 120)
View(data)
data$threshold_exceeded
data$threshold_exceeded>=
which(data$threshold_exceeded)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 50)
View(data)
View(consecutive_stations)
View(data)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 50)
head(data)
data = data[1:6, ]
data
data$NO2 = c(0, 5, 5, 5, 0, 0)
data
consecutive_stations <- data %>%
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 5)
data = data[1:6, ]
data
data$NO2 = c(0, 5, 5, 5, 0, 0)
data
data$threshold_exceeded = 0
consecutive_stations <- data %>%
consecutive_stations <- data %>%
consecutive_stations <- data %>%
consecutive_stations <- data %>%
consecutive_stations <- data %>%
consecutive_stations <- data %>%
mutate(lead1 = lead(threshold_exceeded),
lead2 = lead(threshold_exceeded, 2)) %>%
filter(threshold_exceeded == 1 & lead1 == 1 & lead2 == 1) %>%
select(Istasyon) %>%
distinct() %>%
left_join(data %>% filter(threshold_exceeded == 1) %>% count(Istasyon), by = "Istasyon")
data
consecutive_stations
data$NO2 = c(0, 4, 4, 4, 0, 0)
data
threshold = 3
consecutive_stations <- data %>%
mutate(lead1 = lead(threshold_exceeded),
lead2 = lead(threshold_exceeded, 2)) %>%
filter(threshold_exceeded == 1 & lead1 == 1 & lead2 == 1) %>%
select(Istasyon) %>%
distinct() %>%
left_join(data %>% filter(threshold_exceeded == 1) %>% count(Istasyon), by = "Istasyon")
consecutive_stations
data
library(temizhavaR)
print(paste(parameter_name,": 3 ardisik saat " , threshold = 5 , "degerini asan istasyonlar ve kac kere astiklari"))
consecutive_hourly_list_stations(parameter_name, threshold = 5)
data = data[1:6, ]
data$NO2 = c(0, 4, 4, 4, 0, 0)
threshold = 3
data %>%
mutate(threshold_exceeded = ifelse(hourly_stations[[parameter_name]] >= threshold, 1, 0))
